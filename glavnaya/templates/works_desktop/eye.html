<!DOCTYPE html>
{% load static %}
<html>

<head>
    <meta charset="utf-8">
    <title>eye</title>
    <link rel='stylesheet' href="{% static 'fullpage.min.css' %}">
</head>


<body>
    <style>
        
        html,
        body {
            position:static;
            width: 100%;
            height: 100%;
            /* margin = 0 - убирает скролл */
            margin: 0px; 
            /* padding: 0px; */
            overflow-x: hidden;
            background: url("{% static '/stonehenge/background/eye_f.png' %}");
            background-size: cover;
        }
        .two_part {
            display:grid;
            grid-template-columns: 35fr 65fr;
        }
        
        .border_up {
            grid-area: up_border;
        }

        .border_bottom {
            grid-area: bottom_border;
        }

        .border_left {
            grid-area: left_border;
        }

        .border_right {
            grid-area: right_border;
        }

        .arrow_left {
            grid-area: arrow_left;
        }

        .arrow_right {
            grid-area: right_arrow;
            align-items: center;
        }

        .arrow_left {
            grid-area: left_arrow;
        }

        .image_slider {
            grid-area: image_slider;
            align-items:center;
        }

        .second_half {
            
           display:grid;
           grid-template-columns: 5fr 5fr 80fr 5fr 5fr;
           grid-template-rows: 4fr 89fr 4fr;
           grid-template-areas:
           "up_border up_border up_border up_border up_border"
           "left_border left_arrow image_slider right_arrow right_border"
           "bottom_border bottom_border bottom_border bottom_border bottom_border ";
           grid-row-gap:0;
           align-items: center;
        }


           
    </style>


    <body>
        <div class = 'two_part'>
            <div class='first_half'>
            КРУТО
            </div>

            <div class = 'second_half'>
                
                <div class = 'border_left'>
                    <img src = "{% static '/works/eye/boroda.png' %}" style = 'max-height: 90vh; min-width: 100%; overflow:hidden;'>
                </div>

                <div class = 'border_up'>
                    <img src = "{% static '/works/eye/gorod.png' %}"  style = 'max-height: 5vh ;min-width: 100%; overflow:hidden;'>
                </div>
                
                <div class = 'arrow_left' style = 'position:relative; justify-content: center;'>
                    <img src = "{% static '/works/eye/arirow.png' %}" style = 'position:absolute; '  onclick="prev()">
                </div>
                
                <div class = 'image_slider' style = 'position:relative; max-height: 90vh; min-width: 100%; overflow:hidden;justify-content: center;' >
                    
                    <div class = 'first_image' > 
                        <img src = "{% static '/works/eye/gora.png' %}" id='first_image' alt="" class = 'slider-img' style = 'max-height: 89vh; min-width: 100%; overflow:hidden; margin:center;'>
                    </div>

                    <div class = 'second_image' style = 'position: absolute; top:0;max-height: 89vh; min-width: 100%; overflow:hidden;'> 
                        <img src = "{% static '/works/eye/1.jpg' %}" id='second_image' style = 'max-height: 89vh; min-width: 100%; overflow:hidden;'>
                    </div>

                    <div class = 'third_image' style = 'position: absolute; top:0;max-height: 89vh; min-width: 100%; overflow:hidden;'> 
                        <img src = "{% static '/works/eye/gora.png' %}" id='third_image' style = 'max-height: 89vh; min-width: 100%; overflow:hidden;'>
                    </div>

                    <div class = 'fourth_image' style = 'position: absolute; top:0;max-height: 89vh; min-width: 100%; overflow:hidden;'> 
                        <img src = "{% static '/works/eye/gora.png' %}" id='fourth_image' style = 'max-height: 89vh; min-width: 100%; overflow:hidden;'>
                    </div>

                    <div class = 'fifth_image' style = 'position: absolute; top:0;max-height: 89vh; min-width: 100%; overflow:hidden;'> 
                        <img src = "{% static '/works/eye/gora.png' %}" id='fifth_image' style = 'max-height: 89vh; min-width: 100%; overflow:hidden;'>
                    </div>
                    
                </div>

                <div class = 'arrow_right' style = 'position:relative; justify-content: center;'>
                    <img src = "{% static '/works/eye/arrow--rig.png' %}" id='arrow_first' style = 'position:absolute' onclick="next()">
                </div>

                <div class = 'border_right'>
                    <img src = "{% static '/works/eye/boroda.png' %}"  style = 'max-height: 90vh; min-width: 100%; overflow:hidden;'>
                </div>
                
                <div class = 'border_bottom'>
                    <img src = "{% static '/works/eye/gorod.png' %}" style = 'max-height: 5vh; min-width: 100%; overflow:hidden;'>
                </div>
                
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/animejs@3.0.1/lib/anime.min.js"></script>

        <script>

            var positioning = anime({
                targets: ['#second_image', '#third_image', '#fourth_image', '#fifth_image'],
                opacity: {
                    value: 0,
                    duration: 0.001,
                },
                zIndex: {
                    value:0,
                    duration:0.001,
                },
            })


            var slider_img = document.querySelector('.slider-img');
            var images = [ '1.jpg', 'arirow.png', 'boroda.png', 'gora.png'];
            var i =0; //Current image


            function prev() {
                if (i<=0) i = images.length;
                i--;
                return setImg();
            }

            function next() {
                if (i >= images.length - 1) i = -1;
                i++;
                return setImg();
            }

            function setImg(){
                return slider_img.setAttribute('src', "{% static '/works/eye/' %}" + images[i]);
            }


            // var first_image_opacity = document.getElementById("first_image");
            // var first_io = window.getComputedStyle(first_image_opacity).getPropertyValue("opacity");

            // var second_image_opacity = document.getElementById("second_image");
            // var second_io = window.getComputedStyle(second_image_opacity).getPropertyValue("opacity");

            // var third_image_opacity = document.getElementById("third_image");
            // var third_io = window.getComputedStyle(third_image_opacity).getPropertyValue("opacity");

            // var fourth_image_opacity = document.getElementById("fourth_image");
            // var fourth_io = window.getComputedStyle(fourth_image_opacity).getPropertyValue("opacity");

            // var fifth_image_opacity = document.getElementById("fifth_image");
            // var fifth_io = window.getComputedStyle(fifth_image_opacity).getPropertyValue("opacity");



            function nexta() {
                if (first_io = 1) {
                    var stoner_falling = anime ({
                        targets: ['#first_image'],
                        opacity: {
                            value: 0,
                            duration: 0.001,
                        },
                        autoplay:false,
                    }).play()
                    
                    var first_image_nexta = anime({
                    targets: ['#second_image'],
                    opacity: {
                        value: 1,
                        duration: 10000,
                    },
                    autoplay:false,
                    }).play()

                }
            }
            
            // СТРЕЛКИ В ОБРАТНОМ ПОРЯДКЕ
            document.querySelector('#arrow_fifth').onclick = nexta;

        </script>
    </body>

</html>